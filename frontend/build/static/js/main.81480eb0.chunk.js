(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{124:function(e,t,a){},125:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=(a(124),a(11)),s=(a(125),a(39)),l=a(198),j=a(13),d=a(203),u=a(204),p=a(201),b=a(57),h=a(202),m=a(218),x=a(102),O=a(76),g=a.n(O),f=a(74),v=a.n(f),y=a(75),w=a.n(y),k=a(65),C=a.n(k),S=a(19),N=a(2),I=Object(l.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(s.a)({display:"block"},e.breakpoints.up("sm"),{display:"block"}),search:Object(s.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(j.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(j.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(s.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(s.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(s.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function E(){var e=I(),t=r.a.useState(null),a=Object(o.a)(t,2),c=a[0],i=a[1],s=r.a.useState(null),l=Object(o.a)(s,2),j=l[0],O=l[1],f=Object(n.useContext)(Oe),y=f.state,k=f.dispatch,E=y;console.log(E);var R=Boolean(c),D=Boolean(j),A=function(e){i(e.currentTarget)},T=function(){O(null)},L=function(){i(null),T()},P="primary-search-account-menu",W=Object(N.jsxs)(x.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:P,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:R,onClose:L,children:[Object(N.jsx)(m.a,{onClick:L,children:"Profile"}),Object(N.jsx)(m.a,{onClick:L,children:"My account"}),Object(N.jsx)(m.a,{onClick:function(){k({type:"CLEAR"})},children:"Logout"})]}),z="primary-search-account-menu-mobile",J=Object(N.jsxs)(x.a,{anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},id:z,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:D,onClose:T,children:[Object(N.jsxs)(m.a,{children:[Object(N.jsx)(p.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(N.jsx)(h.a,{badgeContent:4,color:"secondary",children:Object(N.jsx)(v.a,{})})}),Object(N.jsx)("p",{children:"Messages"})]}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)(p.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(N.jsx)(h.a,{badgeContent:11,color:"secondary",children:Object(N.jsx)(w.a,{})})}),Object(N.jsx)("p",{children:"Notifications"})]}),Object(N.jsxs)(m.a,{onClick:A,children:[Object(N.jsx)(p.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(N.jsx)(g.a,{})}),Object(N.jsx)("p",{children:"Profile"})]})]});return Object(N.jsxs)("div",{className:e.grow,children:[Object(N.jsx)(d.a,{position:"static",children:Object(N.jsxs)(u.a,{children:[Object(N.jsx)(b.a,{className:e.title,variant:"h6",children:Object(N.jsx)(S.b,{style:{textDecoration:"none",color:"white",cursor:"pointer"},to:"/",children:"Twimbit"})}),Object(N.jsx)("div",{className:e.grow}),Object(N.jsxs)("div",{className:e.sectionDesktop,children:[E&&Object(N.jsx)(p.a,{color:"inherit",children:Object(N.jsx)(h.a,{color:"secondary",children:Object(N.jsx)(S.b,{style:{textDecoration:"none",color:"white",cursor:"pointer"},to:"/addpost",children:"Add Post"})})}),E&&Object(N.jsx)(p.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(N.jsx)(h.a,{badgeContent:4,color:"secondary",children:Object(N.jsx)(v.a,{})})}),E&&Object(N.jsx)(p.a,{"aria-label":"show 17 new notifications",color:"inherit",children:Object(N.jsx)(h.a,{badgeContent:17,color:"secondary",children:Object(N.jsx)(w.a,{})})}),E?Object(N.jsx)(p.a,{edge:"end","aria-label":"account of current user","aria-controls":P,"aria-haspopup":"true",onClick:A,color:"inherit",children:Object(N.jsx)(g.a,{})}):Object(N.jsx)("div",{style:{margin:"auto 20px",height:"100%",color:"white",textDecoration:"none"},children:Object(N.jsx)(S.b,{to:"/login",style:{textDecoration:"none",color:"white",cursor:"pointer"},children:"Login"})})]}),Object(N.jsx)("div",{className:e.sectionMobile,children:Object(N.jsx)(p.a,{"aria-label":"show more","aria-controls":z,"aria-haspopup":"true",onClick:function(e){O(e.currentTarget)},color:"inherit",children:Object(N.jsx)(C.a,{})})})]})}),J,W]})}var R=a(24),D=a.n(R),A=a(36),T=a(4),L=a(205),P=a(206),W=a(207),z=a(208),J=a(209),M=a(210),U=a(219),q=a(67),F=a(99),B=a.n(F),V=a(100),Y=a.n(V),G=a(101),H=a.n(G),K=Object(l.a)((function(e){return{root:{maxWidth:345,margin:"20px 20px"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:q.a[500]}}}));function Q(e){var t=e.title,a=e.description,n=e.image,c=e.user,i=K(),l=r.a.useState(!1),j=Object(o.a)(l,2),d=j[0],u=j[1];return console.log(c),Object(N.jsxs)(L.a,{className:i.root,children:[Object(N.jsx)(P.a,{avatar:Object(N.jsx)(U.a,{"aria-label":"recipe",className:i.avatar,children:c.name[0]}),action:Object(N.jsx)(p.a,{"aria-label":"settings",children:Object(N.jsx)(C.a,{})}),title:c.name,subheader:"May 11, 2021"}),Object(N.jsx)(W.a,{className:i.media,image:n,title:"Paella dish"}),Object(N.jsx)(z.a,{children:Object(N.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:t})}),Object(N.jsxs)(J.a,{disableSpacing:!0,children:[Object(N.jsx)(p.a,{"aria-label":"add to favorites",children:Object(N.jsx)(B.a,{})}),Object(N.jsx)(p.a,{"aria-label":"share",children:Object(N.jsx)(Y.a,{})}),Object(N.jsx)(p.a,{className:Object(T.a)(i.expand,Object(s.a)({},i.expandOpen,d)),onClick:function(){u(!d)},"aria-expanded":d,"aria-label":"show more",children:Object(N.jsx)(H.a,{})})]}),Object(N.jsx)(M.a,{in:d,timeout:"auto",unmountOnExit:!0,children:Object(N.jsx)(z.a,{children:Object(N.jsx)(b.a,{paragraph:!0,children:a})})})]})}var X=a(37),Z=a.n(X),$=function(e){var t=e.history,a=Object(n.useContext)(Oe),r=a.state,c=(a.dispatch,Object(n.useState)([])),i=Object(o.a)(c,2),s=i[0],l=i[1],j=r;return Object(n.useEffect)(Object(A.a)(D.a.mark((function e(){var a,n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(j),j||t.push("/login"),console.log(j),!j){e.next=11;break}return console.log(j),a={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=8,Z.a.get("http://twimbit-backend.herokuapp.com/api/posts",a);case 8:n=e.sent,c=n.data,l(c);case 11:case"end":return e.stop()}}),e)}))),[j]),Object(N.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:s.map((function(e){return Object(N.jsx)(Q,{title:e.title,description:e.description,image:e.image,user:e.user,date:e.createdAt})}))})},_=a(214),ee=a(212),te=a(215),ae=a(213),ne=a(217),re=a(104),ce=a(216),ie=a(211),oe=a(66),se=a.n(oe);function le(){return Object(N.jsxs)(b.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(N.jsx)("a",{style:{textDecoration:"none"},color:"inherit",href:"https://twimbit.com/",children:"Twimbit"})," ",(new Date).getFullYear(),"."]})}var je=Object(l.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),de=function(e){var t=e.history,a=Object(n.useContext)(Oe),r=(a.state,a.dispatch),c=je(),i=Object(n.useState)(""),s=Object(o.a)(i,2),l=s[0],j=s[1],d=Object(n.useState)(""),u=Object(o.a)(d,2),p=u[0],h=u[1],m=Object(n.useState)(null),x=Object(o.a)(m,2),O=x[0],g=x[1],f=function(){var e=Object(A.a)(D.a.mark((function e(t){var a,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Z.a.post("http://twimbit-backend.herokuapp.com/api/users/login",{email:l,password:p});case 3:a=e.sent,n=a.data,r({type:"USER",payload:n}),localStorage.setItem("userInfo",JSON.stringify(n)),g(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){g(JSON.parse(localStorage.getItem("userInfo"))),console.log(O),O&&(r({type:"USER",payload:JSON.parse(localStorage.getItem("userInfo"))}),t.push("/"))}),[O]),Object(N.jsxs)(ie.a,{container:!0,component:"main",className:c.root,children:[Object(N.jsx)(ee.a,{}),Object(N.jsx)(ie.a,{item:!0,xs:!1,sm:4,md:7,className:c.image}),Object(N.jsx)(ie.a,{item:!0,xs:12,sm:8,md:5,component:re.a,elevation:6,square:!0,children:Object(N.jsxs)("div",{className:c.paper,children:[Object(N.jsx)(U.a,{className:c.avatar,children:Object(N.jsx)(se.a,{})}),Object(N.jsx)(b.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)("form",{className:c.form,onSubmit:f,noValidate:!0,children:[Object(N.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,value:l,onChange:function(e){return j(e.target.value)},fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(N.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:p,onChange:function(e){return h(e.target.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(N.jsx)(_.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,children:"Sign In"}),Object(N.jsxs)(ie.a,{container:!0,children:[Object(N.jsx)(ie.a,{item:!0,xs:!0,children:Object(N.jsx)(S.b,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(N.jsx)(ie.a,{item:!0,children:Object(N.jsx)(S.b,{to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(N.jsx)(ce.a,{mt:5,children:Object(N.jsx)(le,{})})]})]})})]})};function ue(){return Object(N.jsxs)(b.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(N.jsx)("a",{style:{textDecoration:"none"},color:"inherit",href:"https://twimbit.com/",children:"Twimbit"})," ",(new Date).getFullYear(),"."]})}var pe=Object(l.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function be(e){var t=e.history,a=Object(n.useContext)(Oe),r=(a.state,a.dispatch),c=pe(),i=Object(n.useState)(""),s=Object(o.a)(i,2),l=s[0],j=s[1],d=Object(n.useState)(""),u=Object(o.a)(d,2),p=u[0],h=u[1],m=Object(n.useState)(""),x=Object(o.a)(m,2),O=x[0],g=x[1],f=Object(n.useState)(null),v=Object(o.a)(f,2),y=v[0],w=v[1],k=function(){var e=Object(A.a)(D.a.mark((function e(t){var a,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Z.a.post("http://twimbit-backend.herokuapp.com/api/users",{name:l,email:p,password:O});case 3:a=e.sent,n=a.data,r({type:"USER",payload:n}),localStorage.setItem("userInfo",JSON.stringify(n)),w(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){w(JSON.parse(localStorage.getItem("userInfo"))),console.log(y),y&&t.push("/")}),[y]),Object(N.jsxs)(ie.a,{container:!0,component:"main",className:c.root,children:[Object(N.jsx)(ee.a,{}),Object(N.jsx)(ie.a,{item:!0,xs:!1,sm:4,md:7,className:c.image}),Object(N.jsx)(ie.a,{item:!0,xs:12,sm:8,md:5,component:re.a,elevation:6,square:!0,children:Object(N.jsxs)("div",{className:c.paper,children:[Object(N.jsx)(U.a,{className:c.avatar,children:Object(N.jsx)(se.a,{})}),Object(N.jsx)(b.a,{component:"h1",variant:"h5",children:"Register"}),Object(N.jsxs)("form",{className:c.form,onSubmit:k,noValidate:!0,children:[Object(N.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",value:l,onChange:function(e){return j(e.target.value)},autoComplete:"name",autoFocus:!0}),Object(N.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:p,onChange:function(e){return h(e.target.value)},id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(N.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:O,onChange:function(e){return g(e.target.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(N.jsx)(_.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,children:"Register"}),Object(N.jsxs)(ie.a,{container:!0,children:[Object(N.jsx)(ie.a,{item:!0,xs:!0,children:Object(N.jsx)(S.b,{href:"#",children:"Forgot password?"})}),Object(N.jsx)(ie.a,{item:!0,children:Object(N.jsx)(S.b,{to:"/login",children:"Already a User? Login"})})]}),Object(N.jsx)(ce.a,{mt:5,children:Object(N.jsx)(ue,{})})]})]})})]})}var he=a(12),me=function(e,t){return"USER"===t.type?t.payload:"CLEAR"===t.type?(localStorage.removeItem("userInfo"),null):e},xe=function(e){var t=e.history,a=Object(n.useContext)(Oe),r=a.state,c=(a.dispatch,Object(n.useState)("")),i=Object(o.a)(c,2),s=i[0],l=i[1],j=Object(n.useState)(""),d=Object(o.a)(j,2),u=d[0],p=d[1],b=Object(n.useState)(""),h=Object(o.a)(b,2),m=h[0],x=h[1],O=function(){var e=Object(A.a)(D.a.mark((function e(t){var a,n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=4,Z.a.post("http://twimbit-backend.herokuapp.com/api/posts",{title:s,description:u,image:m},a);case 4:n=e.sent,c=n.data,l(""),p(""),x(""),console.log(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r||t.push("/login")}),[r]),Object(N.jsxs)("form",{onSubmit:O,style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"50px"},children:[Object(N.jsx)("h1",{children:"Create A Post"}),Object(N.jsx)("input",{type:"text",name:"title",placeholder:"Enter Title",style:{width:"300px",margin:"5px",padding:"10px"},value:s,onChange:function(e){return l(e.target.value)}}),Object(N.jsx)("input",{type:"textArea",name:"description",placeholder:"Enter Description",style:{width:"300px",margin:"5px",padding:"10px"},value:u,onChange:function(e){return p(e.target.value)}}),Object(N.jsx)("input",{type:"textArea",name:"description",placeholder:"Enter Image URL",style:{width:"300px",margin:"5px",padding:"10px"},value:m,onChange:function(e){return x(e.target.value)}}),Object(N.jsx)("button",{style:{width:"100px",padding:"10px 20px",marginTop:"10px"},children:"Add"})]})},Oe=Object(n.createContext)(),ge=function(){Object(he.f)();var e=Object(n.useContext)(Oe),t=(e.state,e.dispatch);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));e&&t({type:"USER",payload:e})}),[]),Object(N.jsxs)(he.c,{children:[Object(N.jsx)(he.a,{exact:!0,path:"/",component:$}),Object(N.jsx)(he.a,{exact:!0,path:"/login",component:de}),Object(N.jsx)(he.a,{exact:!0,path:"/register",component:be}),Object(N.jsx)(he.a,{exact:!0,path:"/addpost",component:xe})]})};var fe=function(){var e=Object(n.useReducer)(me,null),t=Object(o.a)(e,2),a=t[0],r=t[1];return console.log(a),Object(N.jsx)(Oe.Provider,{value:{state:a,dispatch:r},children:Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(E,{}),Object(N.jsx)(ge,{})]})})};i.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(S.a,{children:Object(N.jsx)(fe,{})})}),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.81480eb0.chunk.js.map